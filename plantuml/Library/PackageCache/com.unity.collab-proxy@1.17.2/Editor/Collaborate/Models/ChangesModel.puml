@startuml
class ChangesModel {
    +  <<event>> UpdatedChangeList : Action 
    +  <<event>> OnUpdatedSelectedChanges : Action 
    +  <<event>> BusyStatusUpdated : Action<bool> 
    +  <<event>> StateChanged : Action 
    + SavedRevisionSummary : string <<get>> <<set>>
    + SavedSearchQuery : string <<get>> <<set>>
    + ToggledCount : int <<get>>
    + TotalCount : int <<get>>
    + ConflictedCount : int <<get>>
    + Conflicted : bool <<get>>
    + Busy : bool <<get>>
    + ChangesModel(provider:ISourceControlProvider)
    + OnStart() : void
    + OnStop() : void
    + RestoreState(cache:IWindowCache) : void
    + SaveState(cache:IWindowCache) : void
    + <<virtual>> UpdateEntryToggle(path:string, toggled:bool) : bool
    + GetToggledEntries(query:string) : IReadOnlyList<IChangeEntryData>
    + GetUntoggledEntries(query:string) : IReadOnlyList<IChangeEntryData>
    + GetAllEntries(query:string) : IReadOnlyList<IChangeEntryData>
    + GetConflictedEntries(query:string) : IReadOnlyList<IChangeEntryData>
    + RequestInitialData() : void
    + RequestDiffChanges(path:string) : void
    + RequestDiscard(entry:IChangeEntry) : void
    + RequestBulkDiscard(entries:IReadOnlyList<IChangeEntry>) : void
    + RequestPublish(message:string, changes:IReadOnlyList<IChangeEntry>) : void
    + RequestShowConflictedDifferences(path:string) : void
    + RequestChooseMerge(path:string) : void
    + RequestChooseMine(paths:string[]) : void
    + RequestChooseRemote(paths:string[]) : void
}
class ChangeEntryData {
    + Toggled : bool <<get>> <<set>>
    + All : bool <<get>> <<set>>
    + ToggleReadOnly : bool <<get>>
    + Conflicted : bool <<get>>
}
IChangesModel <|-- ChangesModel
ChangesModel +-- ChangeEntryData
IChangeEntryData <|-- ChangeEntryData
ChangeEntryData --> "Entry" IChangeEntry
@enduml
